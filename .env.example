# MCP Kafka Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# Kafka Connection
# =============================================================================

# Kafka broker addresses (comma-separated for multiple brokers)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Security protocol: PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
KAFKA_SECURITY_PROTOCOL=PLAINTEXT

# Client identifier for Kafka connections
KAFKA_CLIENT_ID=mcp-kafka

# Operation timeout in seconds
KAFKA_TIMEOUT=30

# =============================================================================
# SASL Authentication (required for SASL_PLAINTEXT or SASL_SSL)
# =============================================================================

# SASL mechanism: PLAIN, SCRAM-SHA-256, SCRAM-SHA-512, GSSAPI
# KAFKA_SASL_MECHANISM=SCRAM-SHA-256

# SASL username and password (for PLAIN, SCRAM mechanisms)
# KAFKA_SASL_USERNAME=your-username
# KAFKA_SASL_PASSWORD=your-password

# Kerberos configuration (for GSSAPI mechanism)
# KAFKA_SASL_KERBEROS_SERVICE_NAME=kafka
# KAFKA_SASL_KERBEROS_KEYTAB=/path/to/client.keytab
# KAFKA_SASL_KERBEROS_PRINCIPAL=kafka-client@EXAMPLE.COM

# =============================================================================
# SSL/TLS Configuration (required for SSL or SASL_SSL)
# =============================================================================

# CA certificate for verifying broker certificates
# KAFKA_SSL_CA_LOCATION=/path/to/ca.crt

# Client certificate and key (for mTLS)
# KAFKA_SSL_CERTIFICATE_LOCATION=/path/to/client.crt
# KAFKA_SSL_KEY_LOCATION=/path/to/client.key
# KAFKA_SSL_KEY_PASSWORD=your-key-password

# =============================================================================
# Safety Controls
# =============================================================================

# Enable write operations (create topics, produce messages, reset offsets)
# Default: false (READ-only mode)
SAFETY_ALLOW_WRITE_OPERATIONS=false

# Maximum message size in bytes (default: 1MB, max: 10MB)
SAFETY_MAX_MESSAGE_SIZE=1048576

# Maximum messages per consume request (default: 100, max: 10000)
SAFETY_MAX_CONSUME_MESSAGES=100

# Blocked topic patterns (comma-separated)
# Internal topics (__consumer_offsets, __transaction_state) are always blocked
# SAFETY_TOPIC_BLOCKLIST=sensitive-*,internal-*

# Tool filtering (comma-separated tool names)
# If not set, all tools are available based on access level
# SAFETY_ALLOWED_TOOLS=kafka_list_topics,kafka_describe_topic
# SAFETY_DENIED_TOOLS=kafka_produce_message

# =============================================================================
# Security - Rate Limiting
# =============================================================================

# Enable rate limiting (default: true)
SECURITY_RATE_LIMIT_ENABLED=true

# Maximum requests per minute (default: 60, max: 1000)
SECURITY_RATE_LIMIT_RPM=60

# =============================================================================
# Security - Audit Logging
# =============================================================================

# Enable audit logging (default: true)
SECURITY_AUDIT_LOG_ENABLED=true

# Audit log file path (default: mcp_audit.log)
SECURITY_AUDIT_LOG_FILE=mcp_audit.log

# =============================================================================
# Security - Network Access Control
# =============================================================================

# Allowed client IP addresses (comma-separated, empty = allow all)
# SECURITY_ALLOWED_CLIENT_IPS=127.0.0.1,192.168.1.0/24

# =============================================================================
# Security - OAuth/OIDC Authentication (HTTP transport only)
# =============================================================================

# Enable OAuth authentication for HTTP transport
SECURITY_OAUTH_ENABLED=false

# OAuth issuer URL (required if OAuth enabled)
# SECURITY_OAUTH_ISSUER=https://auth.example.com

# OAuth JWKS URL (optional - auto-discovered from issuer/.well-known/openid-configuration)
# SECURITY_OAUTH_JWKS_URL=https://auth.example.com/.well-known/jwks.json

# Expected JWT audience claim (comma-separated for multiple audiences)
# SECURITY_OAUTH_AUDIENCE=mcp-kafka

# =============================================================================
# MCP Server Configuration
# =============================================================================

# MCP server name
MCP_SERVER_NAME=mcp-kafka

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
MCP_LOG_LEVEL=INFO

# Enable JSON structured logging (for SIEM/log aggregation)
MCP_JSON_LOGGING=false

# Enable debug mode (shows detailed errors in responses)
MCP_DEBUG_MODE=false
